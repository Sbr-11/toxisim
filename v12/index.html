<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AFM1‚ÄìCurcumin Simulation Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
</head>

<body>
  <div class="app-container">
    <header>
      <h1>AFM1‚ÄìCurcumin Decontamination Simulator</h1>
      <p class="subtitle">Interactive scientific tool for simulation, analysis, and insights</p>
    </header>

    <nav class="tabs">
      <button class="tab-button active" data-tab="step1">1. Sample</button>
      <button class="tab-button" data-tab="step2">2. Spiking</button>
      <button class="tab-button" data-tab="step3">3. Reaction</button>
      <button class="tab-button" data-tab="step4">4. Assay</button>
      <button class="tab-button" data-tab="step5">5. Results</button>
      <button class="tab-button" data-tab="step6">6. Report</button>
    </nav>

    <main>
      <!-- STEP 1 -->
      <section id="step1" class="tab-content active">
        <h2>Step 1: Select Sample</h2>
        <p>Choose the sample type for simulation.</p>
        <select id="sampleType">
          <option>Whole milk</option>
          <option>Skimmed milk</option>
          <option>Pasteurized milk</option>
          <option>Almond milk</option>
          <option>Coconut milk</option>
          <option>Yogurt</option>
          <option>Cheese extract</option>
        </select>
        <button class="next-btn" onclick="nextStep()">Next ‚ûú</button>
      </section>

      <!-- STEP 2 -->
      <section id="step2" class="tab-content">
        <h2>Step 2: AFM1 Spiking</h2>
        <p>Specify the Aflatoxin M1 concentration.</p>
        <label>AFM1 Concentration (¬µg/L)</label>
        <input type="number" id="afm1Conc" placeholder="e.g. 0.5" />
        <p class="note">Default safe limit: 0.05 ¬µg/L (EU Regulation)</p>
        <button class="next-btn" onclick="nextStep()">Next ‚ûú</button>
      </section>

      <!-- STEP 3 -->
      <section id="step3" class="tab-content">
        <h2>Step 3: Reaction Parameters</h2>
        <div class="param-grid">
          <div>
            <label>Curcumin Dose (mg/L)</label>
            <input type="number" id="curcuminDose" placeholder="e.g. 10" />
          </div>
          <div>
            <label>Temperature (¬∞C)</label>
            <input type="number" id="temp" placeholder="e.g. 25" />
          </div>
          <div>
            <label>Reaction Time (min)</label>
            <input type="number" id="time" placeholder="e.g. 60" />
          </div>
          <div>
            <label>Adsorbent</label>
            <select id="adsorbent">
              <option>None</option>
              <option>Bentonite</option>
              <option>Activated Carbon</option>
              <option>Kaolin</option>
              <option>Chitosan</option>
            </select>
          </div>
        </div>
        <button class="run-btn" onclick="runSimulation()">Run Simulation ‚öôÔ∏è</button>
        <div id="simulationStatus"></div>
      </section>

      <!-- STEP 4 -->
      <section id="step4" class="tab-content">
        <h2>Step 4: Select Assay</h2>
        <select id="assayType">
          <option>Spectrophotometry</option>
          <option>LC-MS/MS</option>
          <option>HPLC</option>
          <option>ELISA</option>
          <option>INFOGEST digestion model</option>
          <option>Chromatography</option>
        </select>
        <button class="next-btn" onclick="nextStep()">Next ‚ûú</button>
      </section>

      <!-- STEP 5 -->
      <section id="step5" class="tab-content">
        <h2>Step 5: Results</h2>
        <div id="resultPlots" class="plot-grid"></div>
        <button class="next-btn" onclick="nextStep()">Next ‚ûú</button>
      </section>

      <!-- STEP 6 -->
      <section id="step6" class="tab-content">
        <h2>Step 6: Insights & Report</h2>
        <div id="recommendationBox" class="recommendations"></div>
        <button class="download-btn" onclick="downloadReport()">üìÑ Download Report</button>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
  <script src="py_runner.js"></script>
  <script src="recommendation.js"></script>
</body>
</html>
